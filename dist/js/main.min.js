Site={mobileThreshold:601,init:function(){var _this=this;$(window).resize(function(){_this.onResize()}),$(document).ready(function(){new Swiper(".swiper-container",{pagination:".swiper-pagination",loop:!0,slidesPerView:"auto",loopedSlides:5,spaceBetween:0,paginationClickable:!0,centeredSlides:!0,slideToClickedSlide:!0});$("#portraits").length&&(Site.Player.init(),Site.Portraits.init()),$(".paypal-form-holder").length&&Site.Paypal.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.Paypal={init:function(){var _this=this;$(".paypal-form-holder form").each(function(){_this.styleForm($(this))}),$(".paypal-form-holder").removeClass("u-hidden")},styleBuy:function($buy){},styleForm:function($form){var $buy=$form.find('input[name="submit"]'),$select=$form.find("select");$buy.attr("type","submit"),$buy.attr("value","Buy"),$buy.wrap('<div class="grid-item item-s-6"></div>'),$select.length&&($form.prepend($select),$form.find("table").remove(),$select.wrap('<div class="grid-item item-s-6"></div>'))}},Site.Player={init:function(){var _this=this;_this.$playeContainer=$("#player-iframe"),_this.bind()},bind:function(){var _this=this;window.onYouTubePlayerAPIReady=_this.initYoutube.bind(_this),$(window).on("updatedyoutubelist",function(event,data){_this.list=data.youtubeIds})},initYoutube:function(){this.$player=new YT.Player("player-iframe")},playVideo:function(videoId,list){var _this=this;_this.$player.loadVideoById(videoId),list&&(_this.list=list)}},Site.Portraits={init:function(){var _this=this;_this.$form=$("#portraits-filters"),_this.$filters=_this.$form.find("select"),_this.$grid=$("#portraits-grid"),_this.$portraits=_this.$grid.find(".portrait"),_this.initGrid(),_this.bind()},initGrid:function(){var _this=this;_this.$grid.isotope({itemSelector:".grid-item",layoutMode:"fitRows"}),_this.$grid[0].addEventListener("load",function(){var runs,update=function(){_this.$grid.isotope("layout"),runs=!1};return function(){runs||(runs=!0,setTimeout(update,33))}}(),!0)},bind:function(){var _this=this;_this.$filters=$(".filter-select").on("change",_this.handleFilterChange.bind(_this)),_this.$portraits.on("click",function(){_this.playVideo(this.dataset.youtubeId)}),_this.$grid.on("arrangeComplete",_this.handleArrangeComplete.bind(_this))},playVideo:function(videoId){Site.Player.playVideo(videoId)},getFilteredYoutubeIds:function(){return this.$grid.isotope("getFilteredItemElements").map(function(val){return val.dataset.youtubeId})},handleArrangeComplete:function(event){var _this=this,youtubeIds=_this.getFilteredYoutubeIds();$(window).trigger("updatedyoutubelist",{youtubeIds:youtubeIds})},handleFilterChange:function(event){var _this=this,filterSelector=_this.getFilterSelector();_this.$grid.isotope({filter:filterSelector})},getFilterSelector:function(){var _this=this,selector="";return _this.$filters.each(function(index){this.value&&(selector+="[data-filters*="+this.dataset.filter+"-"+this.value+"]")}),selector}},Site.init();
//# sourceMappingURL=main.min.js.map
